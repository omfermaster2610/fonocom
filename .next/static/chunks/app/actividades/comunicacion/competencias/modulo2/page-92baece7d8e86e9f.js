(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1986],{1612:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var a=s(5155),t=s(2115),o=s(1638),l=s(8244);function n(){let[e,r]=(0,t.useState)(!1),[s,n]=(0,t.useState)(!0),[i,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[m,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{{let e=localStorage.getItem("user");if(e)try{let r=JSON.parse(e);x(r.username)}catch(e){u("Error al obtener datos de usuario"),n(!1)}else u("No se encontr\xf3 usuario logueado"),n(!1)}},[]),(0,t.useEffect)(()=>{m&&h()},[m]);let h=async()=>{if(m)try{n(!0);let e=await fetch("/api/progreso?username=".concat(encodeURIComponent(m)));if(!e.ok){404===e.status?u("Usuario no encontrado en el sistema"):u("Error al cargar el progreso"),n(!1);return}let s=await e.json();r(s.progreso.comunicacion>=1),u(null)}catch(e){console.error("Error loading progress:",e),u("Error de conexi\xf3n al cargar el progreso")}finally{n(!1)}},p=async()=>{if(m&&!i)try{c(!0),u(null);let e=await fetch("/api/progreso",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,modulo:"comunicacion",incremento:12.5})});if(!e.ok){let r=await e.json();u(r.error||"Error al actualizar el progreso");return}let s=await e.json();r(s.completado),console.log("Progreso actualizado: ".concat(s.progresoNuevo.toFixed(0),"%"))}catch(e){console.error("Error updating progress:",e),u("Error de conexi\xf3n al actualizar el progreso")}finally{c(!1)}};return s?(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(o.default,{}),(0,a.jsx)("div",{className:"p-6 space-y-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-lime-500"}),(0,a.jsx)("span",{className:"ml-2",children:"Cargando progreso..."})]})}),(0,a.jsx)(l.A,{})]}):(0,a.jsxs)("div",{className:"px-6 space-y-6",children:[(0,a.jsx)(o.default,{}),(0,a.jsxs)("div",{className:"p-6 space-y-6",style:{padding:"0 1.5rem"},children:[(0,a.jsx)("br",{}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"\uD83D\uDCDA Comunicaci\xf3n: Competencias"}),(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Actividad 2: Competencia paraling\xfc\xedstica"}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("br",{}),(0,a.jsx)("h3",{className:"text-xl font-extrabold",children:"Descripci\xf3n"}),(0,a.jsx)("p",{className:"text-sm font-light leading-relaxed",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Architecto molestiae unde numquam corrupti fugiat? Ad dolorem voluptatem non maiores! Dolore inventore obcaecati laborum recusandae quasi saepe unde numquam fuga excepturi."}),d&&(0,a.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,a.jsx)("strong",{children:"Error:"})," ",d,(0,a.jsx)("button",{onClick:h,className:"ml-2 text-sm underline hover:no-underline",children:"Reintentar"})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("button",{onClick:p,disabled:e||!!d||i,className:"px-6 py-3 rounded-lg font-bold transition-all duration-200 flex items-center gap-2 ".concat(e?"bg-green-500 text-white cursor-default":d?"bg-gray-400 text-white cursor-not-allowed":i?"bg-lime-400 text-white cursor-wait":"bg-lime-500 text-white hover:bg-lime-600 hover:shadow-lg active:transform active:scale-95"),children:[i&&(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e?"âœ… Actividad Completada":i?"Guardando...":"\uD83D\uDE80 Comenzar Actividad"]}),e&&(0,a.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mt-4",children:[(0,a.jsx)("strong",{children:"\xa1Excelente!"})," Has completado esta actividad exitosamente."]}),m&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Usuario: ",m]})]})]}),(0,a.jsx)(l.A,{})]})}},1638:(e,r,s)=>{"use strict";s.d(r,{default:()=>i});var a=s(5155),t=s(2115),o=s(6874),l=s.n(o);function n(e){let{isOpen:r,onClose:s}=e,[o,n]=(0,t.useState)(null),i=e=>{n(r=>r===e?null:e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 z-20 ".concat(r?"translate-x-0":"-translate-x-full"),style:{padding:"0 1.5rem"},children:[(0,a.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,a.jsx)("button",{onClick:s,className:"text-lg justify-end mb-6 cursor-pointer hover:transform hover:scale-110",children:(0,a.jsx)("p",{className:"text-2xl",children:"X"})}),(0,a.jsxs)("ul",{className:"space-y-4 cursor-pointer",children:[(0,a.jsx)(l(),{href:"/homepage",children:(0,a.jsx)("li",{className:"cursor-pointer",children:"Inicio"})}),(0,a.jsx)(l(),{href:"/usuario",children:(0,a.jsx)("li",{className:"cursor-pointer",children:"Usuario"})})]}),(0,a.jsx)("button",{className:"w-full text-left font-semibold hover:text-lime-600",onClick:()=>i("programas"),children:"Programas"}),(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-600 ".concat("programas"===o?"max-h-96":"max-h-0"),children:"programas"===o&&(0,a.jsxs)("ul",{className:"pl-4 mt-2 space-y-1 text-sm text-gray-700",children:[(0,a.jsx)(l(),{href:"/programas/comunicacion",children:(0,a.jsx)("li",{className:"hover:text-lime-600 cursor-pointer",children:"Comunicaci\xf3n"})}),(0,a.jsx)(l(),{href:"/programas/empleo",children:(0,a.jsx)("li",{className:"hover:text-lime-600 cursor-pointer",children:"Empleo y trabajo"})}),(0,a.jsx)(l(),{href:"/programas/negocio",children:(0,a.jsx)("li",{className:"hover:text-lime-600 cursor-pointer",children:"Ideas de negocio"})})]})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(l(),{href:"/actividades",children:(0,a.jsx)("button",{className:"w-full text-left font-semibold cursor-pointer hover:text-lime-600",children:"Actividades"})})}),(0,a.jsx)("button",{className:"w-full text-left font-semibold cursor-pointer hover:text-lime-600",children:(0,a.jsx)(l(),{href:"/login",children:"Cerrar sesi\xf3n"})})]}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black opacity-40 z-10",onClick:s})]})}function i(){let[e,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null);return(0,t.useEffect)(()=>{let e=localStorage.getItem("user");if(console.log("Usuario guardado:",e),!e)return;let{username:r}=JSON.parse(e);console.log("Buscando usuario:",r),fetch("/api/usuario?username=".concat(r)).then(e=>e.json()).then(e=>{console.log("Usuario encontrado:",e),o(e)}).catch(e=>console.error("Error al obtener usuario:",e))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"bg-lime-500 text-gray-900 w-full z-10",children:(0,a.jsxs)("div",{className:"w-full max-w-screen-xl mx-auto flex items-center justify-between h-16",style:{padding:"0 1.5rem"},children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1 cursor-pointer",onClick:()=>r(!0),children:[(0,a.jsx)("div",{className:"w-6 h-0.5 bg-black"}),(0,a.jsx)("div",{className:"w-6 h-0.5 bg-black"}),(0,a.jsx)("div",{className:"w-6 h-0.5 bg-black"})]}),(0,a.jsxs)("div",{className:"text-sm",children:["Bienvenido/a. ",s?s.username:"Cargando..."]})]})}),(0,a.jsx)(n,{isOpen:e,onClose:()=>r(!1)})]})}},7603:(e,r,s)=>{Promise.resolve().then(s.bind(s,1612))},8244:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});var a=s(5155);s(2115);let t=()=>(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("footer",{className:"mb-0 bottom-0 left-0 right-0 p-4 text-center",children:[(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:"\xa9 2025 Fonocom. Todos los derechos reservados."})]})})}},e=>{var r=r=>e(e.s=r);e.O(0,[6874,8441,1684,7358],()=>r(7603)),_N_E=e.O()}]);